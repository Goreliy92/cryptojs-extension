/*
 * The MIT License
 *
 * (MIT)Copyright (c) 2015 artjomb
 */
!function(r){var e;e=r.hasOwnProperty("ext")?r.ext:r.ext={};{var t=(r.lib.Base,r.lib.WordArray);r.algo.AES}e.const_Zero=t.create([0,0,0,0]),e.const_One=t.create([0,0,0,1]),e.const_Rb=t.create([0,0,0,135]),e.const_nonMSB=t.create([4294967295,4294967295,2147483647,2147483647]),e.isWordArray=function(r){return r&&"function"==typeof r.clamp&&"function"==typeof r.concat&&"array"==typeof r.words},r.pad.OneZeroPadding={pad:function(r,e){for(var o=4*e,s=o-r.sigBytes%o,n=[],i=0;s>i;i+=4){var c=0;0===i&&(c=2147483648),n.push(c)}var a=t.create(n,s);r.concat(a)},unpad:function(){}},r.pad.NoPadding={pad:function(){},unpad:function(){}},e.bitshift=function(r,e){var t,o,s=0,n=r.words,i=0;if(e>0){for(;e>31;)n.splice(0,1),n.push(0),e-=32,i++;if(0==e)return s;for(var c=n.length-i-1;c>=0;c--)t=n[c],n[c]<<=e,n[c]|=s,s=t>>>32-e}else if(0>e){for(;-31>e;)n.splice(0,0,0),n.length--,e+=32,i++;if(0==e)return s;e=-e,o=(1<<e)-1;for(var c=i;c<n.length;c++)t=n[c]&o,n[c]>>>=e,n[c]|=s,s=t<<32-e}return s},e.neg=function(r){for(var e=r.words,t=0;t<e.length;t++)e[t]=~e[t];return r},e.leftmostBytes=function(r,e){var t=r.clone();return t.sigBytes=e,t.clamp(),t},e.rightmostBytes=function(r,t){r.clamp();var o=32,s=r.clone(),n=8*(s.sigBytes-t);if(n>=o){var i=Math.floor(n/o);n-=i*o,s.words.splice(0,i),s.sigBytes-=i*o/8}return n>0&&(e.bitshift(s,n),s.sigBytes-=n/8),s},e.popWords=function(r,t){var o=e.leftmostBytes(r,4*t);return r.words=r.words.slice(t),r.sigBytes-=4*t,o},e.shiftBytes=function(r,o){o=o||16;var s=o%4;o-=s;for(var n=t.create(),i=0;o>i;i+=4)n.words.push(r.words.shift()),r.sigBytes-=4,n.sigBytes+=4;return s>0&&(n.words.push(r.words[0]),n.sigBytes+=s,e.bitshift(r,8*s),r.sigBytes-=s),n},e.xor=function(r,e){for(var t=0;t<r.words.length;t++)r.words[t]^=e.words[t];return r},e.xorendBytes=function(r,t){return e.leftmostBytes(r,r.sigBytes-t.sigBytes).concat(e.xor(e.rightmostBytes(r,t.sigBytes),t))},e.bitand=function(r,e){for(var t=r.clone(),o=t.words,s=e.words,n=0;n<o.length;n++)o[n]&=s[n];return t},e.dbl=function(r){var t=e.msb(r);return e.bitshift(r,1),1===t&&e.xor(r,e.const_Rb),r},e.equals=function(r,e){if(!e||!e.words||r.sigBytes!==e.sigBytes)return!1;r.clamp(),e.clamp();for(var t=0;t<r.words.length;t++)if(r.words[t]!==e.words[t])return!1;return!0},e.msb=function(r){return r.words[0]>>>31}}(CryptoJS),CryptoJS.mode.CFBb=function(){function r(r,e,n){var i,c,a,f=this,l=f._cipher,u=32*l.blockSize,p=f._prevBlock,d=l.cfg.segmentSize,h=[];for(i=31;d>i;i+=32)h.push(4294967295);for(h.push((1<<d)-1<<32-d),i=h.length;i<r.length;i++)h.push(0);h=t.create(h);var g,y=h.clone(),v=y.clone();for(o(v,32*-e),i=0;u/d>i;i++){if(p){for(p=t.create(p),o(p,d),p=p.words,previousCiphertextSegment=f._ct;previousCiphertextSegment.length<u/32;)previousCiphertextSegment.push(0);previousCiphertextSegment=t.create(previousCiphertextSegment),o(previousCiphertextSegment,-u+d);for(var c=0;c<p.length;c++)p[c]|=previousCiphertextSegment.words[c]}else p=f._iv.slice(0),f._iv=void 0;a=32*e+i*d;var w=t.create(r.slice(0));o(w,a),n||(f._ct=w.words.slice(0,Math.ceil(d/32)));var B=p.slice(0);for(l.encryptBlock(B,0),c=0;c<Math.ceil(d/32);c++)w.words[c]^=B[c];for(c=0;c<w.words.length;c++)w.words[c]&=h.words[c];for(n&&(f._ct=w.words.slice(0,Math.ceil(d/32))),g=s(v.clone()),c=0;c<r.length;c++)r[c]&=g.words[c];for(o(w,-a),c=0;c<r.length;c++)r[c]|=w.words[c];o(y,-d),o(v,-d)}f._prevBlock=p}var e=CryptoJS.lib.BlockCipherMode.extend(),t=CryptoJS.lib.WordArray,o=CryptoJS.ext.bitshift,s=CryptoJS.ext.neg;return e.Encryptor=e.extend({processBlock:function(e,t){r.call(this,e,t,!0)}}),e.Decryptor=e.extend({processBlock:function(e,t){r.call(this,e,t,!1)}}),e}();